@page
@using Project_2.Pages.Pages.Admin
@model UserModel
@{
    ViewData["Title"] = "Admin User List";
}

<div class="container">
    <h1 class="text-center">User List</h1>
    @for (int i = 0; i < Model.UserList!.Count; i += 4) {
        <div class="row">
            @for (int j = i; j < Model.UserList.Count; j++) {
                if (j == i + 4) {
                    break;
                }
                <div class="col">
                    <h2>@Model.UserList[i].UserName</h2>
                    @if (Model.UserList[i].EmailConfirmed) {
                        <p>@Model.UserList[i].Email (Confirmed)</p>
                    }
                    else {
                        <p>@Model.UserList[i].Email  (Unconfirmed)</p>
                    }
                    @if (Model.UserList[i].PhoneNumberConfirmed) {
                        <p>@Model.UserList[i].PhoneNumber (Confirmed)</p>
                    }
                    else {
                        <p>@Model.UserList[i].PhoneNumber (Unconfirmed)</p>
                    }
                    @*
                    @if (!Model.UserList[i].IsDeactivated) {
                        <button class="btn btn-danger" asp-page-handler="deactivateAsync">Deactivate User</button>
                    }
                    else {
                        <button class="btn btn-danger" asp-page-handler="deactivateAsync">Activate User</button>

                    }
                    @if (!Model.UserList[i].IsBanned) {
                        <button class="btn btn-danger" asp-page-handler="BanAsync">Ban User</button>
                    }
                    else {
                        <button class="btn btn-danger" asp-page-handler="BanAsync">Unban User</button>
                    }
                    *@
                    <button class="btn btn-danger" asp-page-handler="DeleteAsync" asp-route-id="@Model.UserList[i].Id">Delete User</button>
                </div>
            }
        </div>
    }
</div>